---
title: C++模板
catalog: true
date: 2020-03-29 00:02:35
subtitle:
header-img:
tags:
- C++
---

下图依次解释了模板形参、模板函数形参、模板实参、模板函数实参;

如"typename T" 中T即为模板形参, "T Max(T& a T& b)"中的“a, b”即为模板函数形参;
```
template <typename T>
T Max(T& a T& b){
  return (a > b) ? (a) : (b);
}
```
如下面代码中的“”为模板实参，“(10, 20)”为模板函数的实参;
```
int main()
{
  int maxValue = Max<int>(10, 20);
  printf("Max<int>(10, 20) = %d.", maxValue );
  return 0;
}
```
另外当我们调用模板函数的时候，C++编译器会自动根据模板函数的实参来自动推导函数模板的实参，该种机制我们称之为模板参数的自动推导。
根据模板函数的自动推导，上面的

```
int maxValue = Max<int>(10, 20);
```
可修改成
```
int maxValue = Max(10, 20);
```

使用模板参数自动推导需要满足3个条件：
1、模板的形参必须与模板函数的形参在位置上存在一一对应的关系
2、与模板函数返回值相关的模板参数无法进行自动推导
3、需要推导的模板参数必须是连续位于模板参数列表的尾部，中间不能有不可推导的模板参数。
